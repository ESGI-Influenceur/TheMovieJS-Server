node_js:
  - '9'
language: node_js
services:
  - docker
addons:
    apt:
        packages:
            - sshpass
cache:
  directories:
    - node_modules
before_script:
  - cd api
script:
  - npm install
after_success:
  - $TRAVIS_BRANCH == "master" && sshpass -p $DEPLOY_PASS ssh -o stricthostkeychecking=no $DEPLOY_USER@$DEPLOY_HOST bash $DEPLOY_PATH/deploy.sh